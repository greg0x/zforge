# z3/.env

# z3/docker-compose.yml Environment Variables

# --- Common Configuration ---
# Network name for all services (e.g., Mainnet, Testnet, Regtest). Referenced by Zebra, Zaino, and Zallet.
NETWORK_NAME=Testnet
# Globally enables RPC cookie authentication. If true, Zebra generates a .cookie file. 
# Zaino's use of this cookie (via ZAINO_VALIDATOR_COOKIE_AUTH_ENABLE in compose) is conditional on its ZAINO_VALIDATOR_LISTEN_ADDRESS.
ENABLE_COOKIE_AUTH=true
# In-container directory for the .cookie authentication file (e.g., /var/run/auth). 
# Zebra writes its cookie here; Zaino reads from this location via its ZAINO_VALIDATOR_COOKIE_PATH in compose.
COOKIE_AUTH_FILE_DIR=/var/run/auth

# --- Zebra Configuration ---
# Zebra Rust log level
ZEBRA_RUST_LOG=info
# Zebra's internal RPC port. Zaino connects to this port on the 'zebra' service hostname.
ZEBRA_RPC_PORT=18232
# Zebra host RPC port (for external access to Zebra)
ZEBRA_HOST_RPC_PORT=18232

# --- Zaino Configuration ---
# Zaino Rust log level
ZAINO_RUST_LOG=trace,hyper=info
# Zaino's internal gRPC port. Zallet connects to this port on the 'zaino' service hostname.
ZAINO_GRPC_PORT=8137
# Enable/disable Zaino's JSON-RPC service
ZAINO_JSON_RPC_ENABLE=false
# Zaino internal JSON-RPC port
ZAINO_JSON_RPC_PORT=8237
# Zaino gRPC TLS (true/false)
ZAINO_GRPC_TLS_ENABLE=true # Set to true to enforce security policies
# Zaino host gRPC port (for external access to Zaino gRPC)
ZAINO_HOST_GRPC_PORT=8137
# Zaino host JSON-RPC port (for external access to Zaino JSON-RPC)
ZAINO_HOST_JSONRPC_PORT=8237
# In-container FHS-compliant paths for Zaino TLS configs
# These are the paths Zaino application expects for its cert and key
ZAINO_GRPC_TLS_CERT_PATH=/var/run/zaino/tls/zaino.crt
ZAINO_GRPC_TLS_KEY_PATH=/var/run/zaino/tls/zaino.key
# For Zaino healthcheck with TLS (adjust curl_opt as needed for your cert)
ZAINO_GRPC_TLS_ENABLE_SCHEME_SUFFIX=s
ZAINO_GRPC_TLS_ENABLE_CURL_OPT=-k # -k allows insecure for self-signed, use --cacert for prod
# Option to disable Zaino's local DB features (skips FinalisedState sync)
ZAINO_NO_DB=true
# Zaino validator username for Zebra RPC
ZAINO_VALIDATOR_USER=__cookie__
# Zaino Rust backtrace setting
ZAINO_RUST_BACKTRACE=full
# Zaino application internal config path
ZAINO_CONF_PATH=/home/zaino/.config/zaino/zindexer.toml
# Zaino application internal data directory
ZAINO_DATA_DIR=/home/zaino/.cache/zaino

# --- Zallet Configuration ---
# Zallet Rust log level
ZALLET_RUST_LOG=debug
# Zallet internal RPC port
ZALLET_RPC_PORT=28232
# Zallet host RPC port (for external access to Zallet RPC)
ZALLET_HOST_RPC_PORT=28232
# Zallet application internal config path
ZALLET_CONF_PATH=/etc/zallet/zallet.toml
# Zallet application internal data directory
ZALLET_DATA_DIR=/home/zallet/.data
# Example path for a CA certificate file that Zallet might use to trust Zaino's gRPC TLS certificate.
# If Zaino uses a self-signed certificate or a certificate from a private CA, Zallet would need to be 
# configured to trust it. The actual environment variable name and mechanism depend on Zallet's implementation.
# ZALLET_INDEXER_CA_PATH=/path/to/trusted/zaino_ca.crt
