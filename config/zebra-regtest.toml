# Zebra Regtest Configuration for Z3 Development
# Minimal config for local protocol development

[network]
network = "Regtest"

# Activate Canopy at height 1 so the internal miner can generate coinbase transactions
# (Zebra only supports post-Canopy coinbase generation)
# Earlier upgrades use Regtest defaults (all at height 0 with Genesis)
# NU7 requires building with: RUSTFLAGS='--cfg zcash_unstable="nu7"'
[network.testnet_parameters.activation_heights]
Canopy = 1
NU5 = 2
NU6 = 3
"NU6.1" = 4
NU7 = 5

[state]
# Ephemeral state - fresh chain each restart
# Set to false if you want persistent chain state
ephemeral = true
cache_dir = ".data/zebra"

[rpc]
listen_addr = "127.0.0.1:18232"
# Disable cookie auth for local development
enable_cookie_auth = false

[mining]
# Internal miner for automatic block generation
internal_miner = true
miner_address = "tmBsTi2xWTjUdEXnuTceL7fecEQKeWaPDJd"

[tracing]
filter = "info"

[health]
# Health endpoints for monitoring (/healthy, /ready)
listen_addr = "127.0.0.1:8080"
